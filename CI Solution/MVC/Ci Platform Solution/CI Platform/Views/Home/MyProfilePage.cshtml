@using CI_Platform.Models.ViewModels
@model MyProfilePageVM

 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile Page | Company</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="~/css/MyProfilePage.css">
</head>
<body>

   
  <main>
      <form method="post" asp-action="MyProfilePage" asp-controller="Home">
      <div class="row" style="margin-top:2rem; margin-left:13rem; margin-right:12rem; ">
          <div class="col-4" style="width:20rem; height:19rem;border-style:solid; border-width:1px;border-color:lightgrey">
              <div style="display:flex; justify-content:center">
                   <img src= "~/Images/user-img-large.png" style="width:12rem; height:12rem; border-radius:50%;margin:2rem;margin-top:1rem; margin-bottom:1rem ">
              </div> 
              <p class="user_name"> @ViewBag.user.FirstName @ViewBag.user.LastName</p>
              <div style="text-align:center">
                  <a href=" " style="text-decoration:none;color:black;" data-bs-toggle="modal" data-bs-target="#ChangePasswordModal">Change Password</a>
              </div>
              

          </div>
          <div class="col-8" style="margin-left:2rem;margin-top:1.5rem;">
              <h4 style="text-decoration:underline">Basic Information</h4>
              <div class="row" style="margin-top:1rem">
                  <div class="col">
                      <p class="name">Name*</p>  
                      <input asp-for="Name"  type="text" style="width:100%; border: solid 1px lightgrey" placeholder="Enter your Name" />
                  </div>
                  <div class="col">
                      <p class="name">Surname*</p>  
                       <input asp-for="Surname" type="text" style="width:100%; border: solid 1px lightgrey" placeholder="Enter your Surname" />
                  </div>
              </div>

               <div class="row" style="margin-top:1rem">
                  <div class="col">
                      <p class="name">Employee ID</p>  
                      <input asp-for="EmployeeID" type="text" style="width:100%; border: solid 1px lightgrey" placeholder="Enter your Employee ID" />
                  </div>
                 @* <div class="col">
                      <p class="name">Manager</p>  
                       <input asp-for="Manager" type="text" style="width:100%; border: solid 1px lightgrey" placeholder="Enter your Manager details" />
                  </div>*@
              </div>

              <div class="row" style="margin-top:1rem">
                  <div class="col">
                      <p class="name">Title</p>  
                      <input asp-for="Title" type="text" style="width:100%; border: solid 1px lightgrey" placeholder="Enter your Title " />
                  </div>
                  <div class="col">
                      <p class="name">Department</p>  
                       <input asp-for="Department" type="text" style="width:100%; border: solid 1px lightgrey" placeholder="Enter your Department" />
                  </div>
              </div>

              <div style="margin-top:1rem">
                  <p class="name">My Profile*</p>
                  <textarea asp-for="MyProfile" rows="4" cols="40" name="commets" placeholder="Enter your comments.." style="width:100%;border:1px solid lightgrey"></textarea>
              </div>

              <div style="margin-top:1rem">
                  <p class="name">Why I Volunteer?</p>
                  <textarea asp-for="WhyIVolunteer" rows="4" cols="40" name="whyIvolunteer" placeholder="Enter your comments.." style="width:100%;border:1px solid lightgrey"></textarea>
              </div>

              <br /> <br />

                
             @* Address information*@
              <h4 style="text-decoration:underline">Address Information</h4>

              <div class="row" style="margin-top:1rem">

                  <div class="col-6">
                      <p class="name">City</p>  
                      @*<input asp-for="City" type="text" style="width:100%; border: solid 1px lightgrey" placeholder="Enter your City" />*@
                      <select asp-for="City" name="City" id="City" style="width:100%; border: solid 1px lightgrey;  ">
                          <option asp-for="" style="color:grey;">Select your City</option>
                          @foreach (var City in ViewBag.Cities)
                          {
                              <option value="@City.CityId">@City.Name</option>
                          }
                      </select>
                  </div>

                  <div class="col-6">
                      <p class="name">Country*</p>  
                        <select asp-for="Country" name="country" id="country" style="width:100%; border: solid 1px lightgrey;  ">
                            <option style="color:grey">Select your country</option>

                            @foreach (var Country in ViewBag.Countries)
                            {
                                <option value="@Country.CountryId" >@Country.Name</option>
                            }
 
                        </select>
                    
                  </div>
              </div>

               @* Professional information*@

               <div style="margin-top:2rem">
                   <h4 style="text-decoration:underline">Professional Information</h4>

              <div class="row" style="margin-top:1rem">
 
                  <div class="col-6">
                      <p class="name">Availability</p>  
                        <select asp-for="Availability" name="country" id="country" style="width:100%; border: solid 1px lightgrey;  ">
                            <option style="color:grey">Select your availability</option>
                            <option>Parttime</option>
                             <option>Fulltime</option>
                              <option>Weekly</option>
                             <option>Monthly</option>
                             <option>Quarterly</option>

                        </select>
                         
                  </div>

                   <div class="col-6">
                      <p class="name">LinkedIn</p>  
                      <input asp-for="LinkedIn" type="text" style="width:100%; border: solid 1px lightgrey" placeholder="Enter LinkedIn URL" />
                  </div>

              </div>
               </div>

                @* Skills information*@
                <div style="margin-top:2rem">
              <h4 style="text-decoration:underline">My Skills</h4>

              <div class="MySkills" style="border:solid 1px lightgrey; width:100%; height:10rem"></div>
              </div> <br />

              @*Add Skills button*@
              <div style="border: 2px solid black; border-radius:50px; width: 6.5rem; text-align:center">
                    <a href="" class="add_skills" style=" color:black;text-decoration:none;font-weight:500" data-bs-toggle="modal" data-bs-target="#AddSkillsModal"> Add Skills</a>
             </div>
            
                
            <div style="display:flex; justify-content:end">
                    <button type="submit" id="ShowToastBtn" style="border-style:solid;border-width:2px; border-radius:50px; padding:0.5rem;text-decoration:none;color:darkorange;border-color:darkorange; ">Save</button>
            </div>

          </div>
          
      </div>
      </form>

      

<!-- Change Password Modal -->
<div class="modal fade " id="ChangePasswordModal" tabindex="-1" aria-labelledby="ChangePasswordModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Change Password</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <input type="password" style="width:100%; border: 1px solid lightgrey; margin-top:1rem" placeholder="Enter Old Password"> 
         
         <input type="password" style="width:100%; border: 1px solid lightgrey; margin-top:1rem" placeholder="Enter New Password"> 
         
          <input type="password" style="width:100%; border: 1px solid lightgrey; margin-top:1rem" placeholder="Confirm New Password"> 
          
      </div>
      <div class="modal-footer">
       <div><a href="/Home/MyProfilePage/@ViewBag.user.UserId" style="border-style:solid;border-width:2px; border-radius:50px; padding:0.5rem; text-decoration:none;color:black;border-color:black">Cancel</a></div> 
       <div><a href="" style="border-style:solid;border-width:2px; border-radius:50px; padding:0.5rem;text-decoration:none;color:darkorange;border-color:darkorange">Change Password</a></div>
      </div>
    </div>
  </div>
</div>

<!--Add Skills Modal -->
@*<div class="modal fade " id="AddSkillsModal" tabindex="-1" aria-labelledby="AddSkillsModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Add your Skills</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
         Hii I am a Modal
          
      </div>
      <div class="modal-footer" style="justify-content:flex-start">
       <div><a href="/Home/MyProfilePage/@ViewBag.user.UserId" style="border-style:solid;border-width:2px; border-radius:50px; padding:0.5rem; text-decoration:none;color:black;border-color:black">Cancel</a></div> 
       <div><a href="" style="border-style:solid;border-width:2px; border-radius:50px; padding:0.5rem;text-decoration:none;color:darkorange;border-color:darkorange">Save</a></div>
      </div>
    </div>
  </div>
</div>*@ 


<div class="modal fade" id="AddSkillsModal" tabindex="-1" aria-labelledby="AddSkillsModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h1 class="modal-title fs-5" id="addskillmodalLabel">Add your skills</h1>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="container  p-0">
                                    <br />
                                    <div class="row d-flex m-0 p-0">
                                        <select multiple style="height:300px;" id="s1" class="  px-0 col-12 col-md-5 ">
 
                                            @foreach (var Skill in ViewBag.Skills)
                                            {
                                                <option value="@Skill.SkillId">@Skill.SkillName</option>
                                            }
                    

                                            @*@if (ViewBag.userskills != null)
                                            {
                                                @foreach (var it in ViewBag.remainingSkills)
                                                {
                                                    <option value=@it.SkillId>@it.SkillName</option>
                                                }
                                            }
                                            else
                                            {
                                                @if (ViewBag.allskills != null)
                                                {
                                                    @foreach (var i in ViewBag.allskills)
                                                    {
                                                        <option value=@i.SkillId>@i.SkillName</option>
                                                    }
                                                }
                                            }*@

                                        </select>
                                        <div class="col-2 mt-5  px-2 d-md-block d-none flex-column ">
                                            <div class="mt-3 d-flex justify-content-center align-items-center ">

                                                <i class="bi bi-chevron-right py-2  px-1 skillimg" id="t1 " onclick="ved1()"></i>
                                            </div>
                                            <div class="mt-1  d-flex justify-content-center align-items-center">

                                                <i class="bi bi-chevron-left skillimg py-2  px-1" id="t2" onclick="ved2()"></i>

                                            </div>
                                            <div class="mt-1  d-flex justify-content-center align-items-center">

                                                <i class="bi bi-chevron-double-right skillimg py-2  px-1" id="t3" onclick="ved3()"></i>
                                            </div>
                                            <div class="mt-1  d-flex justify-content-center align-items-center">

                                                <i class="bi bi-chevron-double-left skillimg py-2 px-1 " id="t4" onclick="ved4()"></i>
                                            </div>
                                        </div>
                                        <div class="col-12 my-2 d-flex justify-content-center  align-items-center d-block d-md-none   px-2">

                                            <i class="bi bi-chevron-down  p-2 skillimg" id="t1 " onclick="ved1()"></i>

                                            <i class="bi bi-chevron-up skillimg p-2 ms-2" id="t2" onclick="ved2()"></i>

                                            <i class="bi bi-chevron-double-down skillimg px-2 ms-2" id="t3" onclick="ved3()"></i>

                                            <i class="bi bi-chevron-double-up skillimg px-2 ms-2" id="t4" onclick="ved4()"></i>
                                        </div>

                                        <select multiple id="s2" style="height:300px;" class=" px-0 col-12 col-md-5 ">
                                            @*<option value=Coding>Coding</option>
                                             <option value=Anthropology>Anthropology</option>
                                              <option value=Mathematics>Mathematics</option>
                                               <option value=Aviation>Aviation</option>
                                                <option value=Environment Science>Environment Science</option>
                                                 <option value=Data Entry>Data Entry</option>*@
                                           @* @if (ViewBag.userskills != null)
                                            {
                                                @foreach (var it in ViewBag.userskills)
                                                {
                                                    <option value=@it.SkillId>@it.SkillName</option>
                                                }
                                            }*@
                                        </select>
                                    </div>
                                </div>


                            </div>
                            <div class="modal-footer d-flex justify-content-start">
                                @*<button type="button" class="user-add-skill-cancel-btn rounded-pill border-secondary" id="close" data-bs-dismiss="modal">
                                    Cancel
                                </button>
                                <button type="button" id="skillSave" class="user-add-skill-save-btn oran">Save</button>*@
                                 <div><a href="/Home/MyProfilePage/@ViewBag.user.UserId" style="border-style:solid;border-width:2px; border-radius:50px; padding:0.5rem; text-decoration:none;color:black;border-color:black">Cancel</a></div> 
       <div><a href="" style="border-style:solid;border-width:2px; border-radius:50px; padding:0.5rem;text-decoration:none;color:darkorange;border-color:darkorange; ">Save</a></div>
                            </div>
                        </div>
                    </div>
                </div>

                   

  </main> 

 @* <footer>
        <hr>
        <span class="footer_link"><a   target="_main" class="footer_text" asp-area="" asp-controller="Home" asp-action="Privacy">Privacy policy</a></span>
      </footer>*@
    
    @*<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>*@
    
    <script>
          function ved1() {
            var a = document.getElementById("s1");
            var c = document.getElementById("s2");
            for (var i = 0; i < a.length; i++) {
                if (a.options[i].selected == true) {
                    a.options[i].selected = false
                    c.add(a.options[i])
                    ved1()
                }
            }
        }
        function ved2() {
            var a = document.getElementById("s1");
            var c = document.getElementById("s2");
            for (var i = 0; i < c.length; i++) {
                if (c.options[i].selected == true) {
                    c.options[i].selected = false
                    a.add(c.options[i])
                    ved2()
                }
            }
        }

        function ved3() {
            var a = document.getElementById("s1");
            var c = document.getElementById("s2");
            for (var i = 0; i < a.length;) {
                c.add(a.options[c, i])
            }
        }

        function ved4() {
            var a = document.getElementById("s1");
            var c = document.getElementById("s2");
            for (var i = 0; i < c.length;) {
                a.add(c.options[a, i])
            }
        }

            //Skills
        document.getElementById('skillSave').addEventListener("click", e => {
            var selectedSkills = [];
            const skillsSelected = $('#s2 option');
            for (var i = 0; i < skillsSelected.length; i++) {
                selectedSkills.push(skillsSelected[i].value);
            }
            console.log(selectedSkills);
            $.ajax({
                url: '/Home/SaveUserSkills',
                type: 'POST',
                data: { selectedSkills: selectedSkills },

                success: function (response) {
                    $('#userskilldiv').html($(response).find('#userskilldiv').html());
                    document.getElementById('close').click();
                },
                error: function () {
                    alert("could not comment");
                }
            });
        });
    </script>

    <!-- JavaScript code to show toast message -->
    <script>
    $(document).ready(function() {
        // Handle button click event
        $('#ShowToastBtn').click(function() {
            // Get title and message from ViewBag or other data source
            var title = 'Saved';
            var message = 'Successfully Saved your changes!';

            // Show toast using Toastr library
            toastr.info(message,title);
        });
    });
   </script>

 
</body>
</html>
 
